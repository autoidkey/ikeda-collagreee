<!-- スクリプト無理やり読むこみ　修正する -->
<link href="/css/calendar.css" type="text/css" rel="stylesheet">
<script src="/js/underscore-min.js" type="text/javascript"></script>
<script src="/js/calendar.js" type="text/javascript"></script>
<!-- 日本語化用 -->
<script src="/js/language/ja-JP.js" type="text/javascript"></script>

<div class="panel panel-default">
  <div class="panel-header">
    <h4 class=""><span class="glyphicon glyphicon-tower" aria-hidden="true"></span> カレンダー</h4>
  </div>
  <div class="panel-body">
        <!-- カレンダー ヘッダー -->
    <div class="page-header">
        <!-- カレンダー タイトル -->
        <h3></h3>
        <!-- カレンダー ナビゲーション -->
        <div class="btn-group">
            <button class="btn" data-calendar-nav="prev"><<</button><button class="btn" data-calendar-nav="today">[Today]</button><button class="btn" data-calendar-nav="next">>></button>
        </div>
        <!-- ビュー切替用ボタン -->
        <div class="btn-group">
            <button class="btn" data-calendar-view="year">Year</button><button class="btn" data-calendar-view="month">Month</button><button class="btn" data-calendar-view="week">Week</button><button class="btn" data-calendar-view="day">Day</button>
        </div>
    </div>

    <div id="calendar"></div>
  </div>
</div>

<script type="text/javascript">
(function($) {

  "use strict";

  var events = {
            "id": 293,                    // id
            "title": "Event 1",           // タイトル
            "url": "http://kwski.net/jquery/1222",  // リンク
            "class": "event-important",   // class
            "start": 1412125748000,       // 開始日時(ミリ秒まで)
            "end": 1412989748000          // 終了日時(ミリ秒まで)
        };





  var options = {
//    events_source: 'events.json.php',
//    view: 'month',
    tmpl_path: 'https://dl.dropboxusercontent.com/u/59384927/jquery/CALENDAR/bootstrap-calendar/0.2.4/tmpls/',
    events_source: function () { return [events]; },
    language: 'ja-JP',
//    tmpl_cache: false,
//    day: '2013-03-12',
//    onAfterEventsLoad: function(events) {
//      if(!events) {
//        return;
//      }
//      var list = $('#eventlist');
//      list.html('');

//      $.each(events, function(key, val) {
//        $(document.createElement('li'))
//          .html('<a href="' + val.url + '">' + val.title + '</a>')
//          .appendTo(list);
//      });
//    },
    onAfterViewLoad: function(view) {
      $('.page-header h3').text(this.getTitle());
//      $('.btn-group button').removeClass('active');
      $('button[data-calendar-view="' + view + '"]').addClass('active');
    },
//    classes: {
//      months: {
//        general: 'label'
//      }
//    }
  };

  var calendar = $('#calendar').calendar(options);

  $('.btn-group button[data-calendar-nav]').each(function() {
    var $this = $(this);
    $this.click(function() {
      calendar.navigate($this.data('calendar-nav'));
    });
  });

  $('.btn-group button[data-calendar-view]').each(function() {
    var $this = $(this);
    $this.click(function() {
      calendar.view($this.data('calendar-view'));
    });
  });

//  $('#first_day').change(function(){
//    var value = $(this).val();
//    value = value.length ? parseInt(value) : null;
//    calendar.setOptions({first_day: value});
//    calendar.view();
//  });

//  $('#language').change(function(){
//    calendar.setLanguage($(this).val());
//    calendar.view();
//  });

//  $('#events-in-modal').change(function(){
//    var val = $(this).is(':checked') ? $(this).val() : null;
//    calendar.setOptions({modal: val});
//  });
//  $('#events-modal .modal-header, #events-modal .modal-footer').click(function(e){
    //e.preventDefault();
    //e.stopPropagation();
//  });
}(jQuery));
</script>
